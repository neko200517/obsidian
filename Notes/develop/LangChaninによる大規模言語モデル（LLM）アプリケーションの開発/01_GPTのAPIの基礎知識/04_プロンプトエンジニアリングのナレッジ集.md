## ベストプラクティス

■ ベストプラクティス

https://help.openai.com/en/articles/6654000-best-practices-for-prompt-engineering-with-openai-api

■ プロンプトエンジニアリングガイド

[https://www.promptingguide.ai/jp](https://www.promptingguide.ai/jp)

### 1. 最新モデルを使用する
### 2. プロンプトの先頭に””””を使用する

#### 効果が低い

```
以下のテキストを最も重要な点の箇条書きリストとして要約します。  
  
{ここにテキストを入力}
```

#### 効果が高い

```
以下のテキストを箇条書きにする。

テキスト: """
{ここにテキストを入力}
"""
```

### 3. 希望するコンテキスト、結果、長さ、形式、スタイルなどについて具体的かつ説明的かつできるだけ詳細に記載する

#### 効果が低い 

```
OpenAI について詩を書きます。
```

#### 効果が高い

```
{有名な詩人} のスタイルで、最近の DALL-E 製品の発売 (DALL-E はテキストから画像への ML モデル) に焦点を当て、OpenAI についての感動的な短い詩を書きます。
```

### 4. 例を通じて目的の出力形式を明確にする

#### 効果が低い 

```
以下のテキストで言及されているエンティティを抽出します。企業名、人物名、特定のトピックとテーマの 4 つのエンティティ タイプを抽出します。  
  
テキスト: {テキスト}
```

#### 効果が高い

```
以下のテキストで言及されている重要なエンティティを抽出します。最初にすべての会社名を抽出し、次にすべての人物名を抽出し、次にコンテンツに適合する特定のトピックを抽出し、最後に一般的な包括的なテーマを抽出します。  
  
望ましい形式:  
会社名: <comma_dependent_list_of_company_names>  
人物名: -||-  
特定のトピック: -||-  
一般テーマ: -||-  
  
テキスト: {text}
```

### ゼロショットから始めて次に数ショット、どちらも機能しなかった後微調整する

#### ゼロショット

```
以下の文章からキーワードを抽出してください。  
  
テキスト: {テキスト}  
  
キーワード:
```

#### 少数のショット - いくつかの例を提供する

```
以下の該当する文章からキーワードを抽出してください。  
  
テキスト 1: Stripe は、Web 開発者が支払い処理を Web サイトやモバイル アプリケーションに統合するために使用できる API を提供します。  
キーワード 1: Stripe、支払い処理、API、Web 開発者、Web サイト、モバイル アプリケーション  
##  
テキスト 2: OpenAI は、テキストの理解と生成に優れた最先端の言語モデルをトレーニングしました。当社の API はこれらのモデルへのアクセスを提供し、処理言語を伴う事実上あらゆるタスクを解決するために使用できます。  
キーワード 2: OpenAI、言語モデル、テキスト処理、API。  
##  
テキスト 3: {text}  
キーワード 3:
```

#### 微調整

https://docs.google.com/document/d/1h-GTjNDDKPKU_Rsd0t1lXCAnHltaXTAzQ8K2HRhQf9U/edit#

###  ふわふわした不明確な説明を減らす

#### 効果が低い

```
この製品の説明はかなり短く、数文のみにして、それ以上長くしないでください。
```

####  効果が高い 

```
この製品について説明するには、3 ～ 5 文の段落を使用してください。
```

### 何をしてはいけないのかをただ言うのではなく、代わりに何をすべきかを言う 

#### 効果が低い

```
以下はエージェントと顧客の間の会話です。ユーザー名やパスワードを尋ねないでください。繰り返さないでください。  
  
顧客: アカウントにログインできません。  
エージェント：
```

#### 効果が高い 

```
以下はエージェントと顧客の間の会話です。エージェントは問題の診断と解決策の提案を試みますが、PII に関連する質問は控えます。ユーザー名やパスワードなどの PII を要求する代わりに、ユーザーにヘルプ記事 www.samplewebsite.com/help/faq を参照するよう案内してください。  
  
お客様: アカウントにログインできません。  
エージェント：
```

### コード生成固有 - 「先頭の単語」を使用してモデルを特定のパターンに誘導する

#### 効果が低い

```
# 簡単な Python 関数を作成します。  
# 1. マイル単位の数値を尋ねます。  
# 2. マイルをキロメートルに変換します。
```

#### 効果が高い

以下のコード例では、Python での記述を開始する必要があることを示す「_import_」ヒントをモデルに追加しています。(同様に、「SELECT」は SQL ステートメントの開始に適したヒントです。)

```
# 簡単な Python 関数を作成します。  
# 1. マイル単位の数値を尋ねます。  
# 2. マイルをキロメートルに変換します  
   
import
```

###  パラメータ

1. model: 高性能なモデルは効果、遅延も長くなる。
2. temperature: 数値が高ければ高いほど出力はランダムになる（クリエイティブ寄りになる）。事実に基づいた結果を得るには0が最適となる。
3. max_tokens: 最大長
4. stop: 生成時にテキスト生成を停止させる文字のセット。