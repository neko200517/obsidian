---
date: <% tp.date.now("YYYY-MM-DD") %>
tags:
  - NestJS
  - GraphQL
aliases:
  - <% tp.file.title %>
---
## URL

https://graphql.org/learn/

## GraphQLとは

- Facebookによって開発されたWeb APIのためのクエリ言語
- APIの速度や柔軟性、開発のしやすさを重要視して設計されている
- データベースを操作するSQLとは全くの別物
- GraphQLスキーマを独自のスキーマ定義言語で定義し、独自のクエリ言語でリクエストを行う
- 特定の言語やフレームワークに依存しない
- Query（データの問い合わせ）、Mutation（データの書き換え）、Subscription（データの購読）をサポートしている

## REST APIとは

- RESTと呼ばれる設計原則に従って作成されたAPI 
- 現在最もメジャーなAPIの開発方法
- URI（エンドポイント）とHTTPメソッドによって処理が決定される
- 例）ユーザー一覧情報を取得したい場合
	- /users というパスにGETメソッドでリクエストする

## REST APIの問題点

- エンドポイントが大量に作成される
- リソースの取得に柔軟性がない
	- 例１）オーバーフェッチ
		- 特定のidの社員名と年齢を取得する場合、社員名と年齢以外の情報もすべて取得してしまう。専用のAPIを作成する場合、さらにエンドポイントが増大する。
	- 例２）アンダーフェッチ
		- 社員情報＋部署名といった部署マスタとリレーションがある関係では、さらに部署リクエストを実行しなければならない。

## GraphQLの特徴

- 単一のAPIエンドポイント 
- 独自のクエリ（問い合わせ）言語を使用してリクエストを行う
- クライアント側で取得したい情報を決定する
	- 柔軟なデータ取得でオーバーフェッチ・アンダーフェッチを回避する
- 型情報を活用することができる

## GraphQLの問題点

- REST APIほどメジャーではないため情報が少なく学習コストがかかる可能性
- サーバー側の不可予測が難しい
- キャッシュが複雑になりやすい

## GraphQLとREST APIの比較

![[Pasted image 20240611152753.png]]