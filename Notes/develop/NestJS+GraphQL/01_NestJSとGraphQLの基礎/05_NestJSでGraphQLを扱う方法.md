---
date: <% tp.date.now("YYYY-MM-DD") %>
tags:
  - NestJS
  - GraphQL
aliases:
  - <% tp.file.title %>
---
## 概要

- NestJSでGraphQLを扱う方法は2種類がある
	- スキーマファースト
	- コードファースト
- GraphQLスキーマをどのように生成するかという違いがある

## スキーマファースト 

- GraphQLスキーマファイルを事前に定義する
- GraphQLスキーマからTypeScriptのコードを生成 
	- バックエンド、フロントエンドともに同じGraphQLスキーマを参照
- 大規模開発でバックエンド、フロントエンドをを別チームで並列に開発する場合などに向いている

## スキーマファーストのメリット・デメリット

### メリット 

- スキーマをバックエンドとフロントエンド共有の資産にできる
- 特定の言語・フレームワークに依存しない

### デメリット 

- スキーマ定義言語には文法上の制約が多い
- スキーマのバージョン管理が煩雑になる（フロント、バックエンド両方を合わせる必要がある）
- GraphQLについて理解が必要 

## コードファースト 

- GraphQLスキーマファイルは事前に作成しない
- TypeScriptのコードに特定のデコレータを付与し、GraphQLスキーマを自動生成 
- フロントエンドはバックエンドによって生成されたスキーマを参照
- 比較的小規模でスピーディーに開発を行う場合などに向いている

## コードファーストのメリット・デメリット 

### メリット 

- コードとスキーマを常に一致させることができる
- IDEの強力なサポートを受けられる
- GraphQLの知識があまり必要ない（TypeScriptが書ければ良い）

### デメリット

- スキーマがバックエンドの資産になる
- 特定の言語・フレームワークに依存する