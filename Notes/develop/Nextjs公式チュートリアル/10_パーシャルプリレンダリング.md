## 注意点

パーシャルプリレンダリングは Next.js 14 で導入された実験的な機能なので、更新される可能性があるため注意。

## パーシャルプリレンダリングとは

静的な要素を高速にレンダリングして動的な要素はレンダリングを非同期に行いページ全体のパフォーマンスを上げる機能。
過去のコードの改修は必要なく、Suspense で動的な部分をラップしていれば Next.js がどこが静的か動的かを認識する。

## まとめ

- サーバーとデータベース間の待ち時間を短縮するためにアプリケーションコードと同じリージョンにデータベースを作成した。
- React Server Components を使用してサーバー上のデータを取得した。これによりデータフェッチのロジックをサーバー上に保持し、クライアント側の実装を減らし、データベースの秘密がクライアントに公開されることを防いだ。
- SQLを使用して必要なデータのみを取得することでリクエスト後に転送されるデータ量とメモリ内のデータを変換するために必要なJavaScriptの量を削減した。
- JavaScriptを使用してデータの取得を並列化した。
- 遅いデータ要求によってページ全体がブロックされるのを防ぎ、ユーザーがすべて読み込まれるのを待たずに操作を開始できるようにするためにストリーミングを実装した。
- データフェッチを必要なコンポーネントに移動し、パーシャルプリレンダリングに備えてどの部分を動的にする必要があるかを分離した。